[gd_scene load_steps=10 format=3 uid="uid://dvplf6je6vicm"]

[ext_resource type="Script" path="res://Scripts/PlayerSub.cs" id="1_mes06"]
[ext_resource type="PackedScene" uid="uid://d2oodqqubugm7" path="res://Scenes/ranged_ping.tscn" id="2_opuqb"]
[ext_resource type="Texture2D" uid="uid://c6aclvjhclai6" path="res://QuarterCircle.png" id="2_tl846"]
[ext_resource type="Script" path="res://Scripts/RayScript.cs" id="3_0qcv2"]
[ext_resource type="Script" path="res://Scripts/Indicator.cs" id="4_lhgqj"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_b7g1o"]

[sub_resource type="PrismMesh" id="PrismMesh_xh1t3"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_wvhhy"]
radius = 37.0
height = 150.0

[sub_resource type="CircleShape2D" id="CircleShape2D_7037y"]

[node name="PlayerSub" type="CharacterBody2D"]
script = ExtResource("1_mes06")
rangedPingObj = ExtResource("2_opuqb")

[node name="SubBody" type="Node2D" parent="."]

[node name="Body" type="MeshInstance2D" parent="SubBody"]
rotation = 1.5708
scale = Vector2(75, 75)
mesh = SubResource("CapsuleMesh_b7g1o")

[node name="MeshInstance2D" type="MeshInstance2D" parent="SubBody"]
position = Vector2(-77.008, 0)
rotation = -1.5708
scale = Vector2(75.5173, 30.1709)
mesh = SubResource("PrismMesh_xh1t3")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
rotation = 1.5708
shape = SubResource("CapsuleShape2D_wvhhy")

[node name="Raycasts" type="Node2D" parent="."]

[node name="NorthCast" type="RayCast2D" parent="Raycasts" node_paths=PackedStringArray("linkedIndicator")]
target_position = Vector2(0, -200)
script = ExtResource("3_0qcv2")
linkedIndicator = NodePath("../../Indicators/NorthQuad")

[node name="EastCast" type="RayCast2D" parent="Raycasts" node_paths=PackedStringArray("linkedIndicator")]
target_position = Vector2(200, 0)
script = ExtResource("3_0qcv2")
linkedIndicator = NodePath("../../Indicators/EastQuad")

[node name="SouthCast" type="RayCast2D" parent="Raycasts" node_paths=PackedStringArray("linkedIndicator")]
target_position = Vector2(0, 200)
script = ExtResource("3_0qcv2")
linkedIndicator = NodePath("../../Indicators/SouthQuad")

[node name="WestCast" type="RayCast2D" parent="Raycasts" node_paths=PackedStringArray("linkedIndicator")]
target_position = Vector2(-200, 0)
script = ExtResource("3_0qcv2")
linkedIndicator = NodePath("../../Indicators/WestQuad")

[node name="Indicators" type="Node2D" parent="."]
rotation = 0.785398

[node name="NorthQuad" type="Sprite2D" parent="Indicators"]
position = Vector2(-55, -55)
scale = Vector2(0.4, 0.4)
texture = ExtResource("2_tl846")
script = ExtResource("4_lhgqj")

[node name="EastQuad" type="Sprite2D" parent="Indicators"]
position = Vector2(55, -55)
rotation = 1.5708
scale = Vector2(0.4, 0.4)
texture = ExtResource("2_tl846")
script = ExtResource("4_lhgqj")

[node name="SouthQuad" type="Sprite2D" parent="Indicators"]
position = Vector2(55, 55)
rotation = 3.14159
scale = Vector2(0.4, 0.4)
texture = ExtResource("2_tl846")
script = ExtResource("4_lhgqj")

[node name="WestQuad" type="Sprite2D" parent="Indicators"]
position = Vector2(-55, 55)
rotation = -1.5708
scale = Vector2(0.4, 0.4)
texture = ExtResource("2_tl846")
script = ExtResource("4_lhgqj")

[node name="PassiveSonar" type="Area2D" parent="."]
scale = Vector2(20, 20)

[node name="CollisionShape2D" type="CollisionShape2D" parent="PassiveSonar"]
shape = SubResource("CircleShape2D_7037y")
debug_color = Color(1, 0, 0.145098, 0.419608)

[connection signal="area_entered" from="PassiveSonar" to="." method="TestArea"]
